!function(e){"use strict";const t=(...e)=>{let n=!1;"boolean"==typeof e[0]&&(n=e.shift());let o=e[0];if(!o||"object"!=typeof o)throw new Error("extendee must be an object");const s=e.slice(1),l=s.length;for(let e=0;e<l;e++){const l=s[e];for(let e in l)if(l.hasOwnProperty(e)){const s=l[e];if(n&&(Array.isArray(s)||"object"==typeof(c=s)&&null!==c&&c.constructor===Object&&"[object Object]"===Object.prototype.toString.call(c))){const n=Array.isArray(s)?[]:{};o[e]=t(!0,o.hasOwnProperty(e)?o[e]:n,s)}else o[e]=s}}var c;return o},n=(e,t=window.ConsentControl.cookieName||"privacyconsent")=>{var n=o()||[];e=Array.isArray(e)?e:[e];for(var s=0;s<e.length;s++){var l=e[s];-1===n.indexOf(l)?n.push(l):n.splice(l,1)}var c=window.location.hostname,r=new Date;r.setTime(r.getTime()+31536e6);var i="expires="+r.toUTCString();document.cookie=t+"="+e.join("|")+";"+i+";path=/;samesite=lax;domain="+c},o=e=>{let t=window.ConsentControl.cookieName||"privacyconsent";t+="=";const n=document.cookie.split(";");for(let o=0;o<n.length;o++){let s=n[o];for(;" "==s.charAt(0);)s=s.substring(1);if(0==s.indexOf(t)){const n=s.substring(t.length,s.length).split("|");return e?n.includes(e):n}}return!1},s=()=>{for(var e=document.cookie.split("; "),t=0;t<e.length;t++)for(var n=window.location.hostname.split(".");n.length>0;){var o=encodeURIComponent(e[t].split(";")[0].split("=")[0])+"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain="+n.join(".")+" ;path=",s=location.pathname.split("/");for(document.cookie=o+"/";s.length>0;)document.cookie=o+s.join("/"),s.pop();n.shift()}window.localStorage.clear(),alert(window.ConsentControl.options.template.strings.resetMessage)},l=(e,t,n,o,s)=>{let l=e.options.template[t];return o&&(l=l.replace(/{\w+}/g,(e=>o[e.substring(1,e.length-1)]||e))),n&&(l=l.replace(/{\w+}/g,(e=>"{key}"==e?n:e))),s&&(l=l.replace(/{\w+}/g,(e=>s[e.substring(1,e.length-1)]||e))),l=l.replace(/{\w+}/g,(t=>e.options.template.strings[t.substring(1,t.length-1)]||t)),l},c=(e,t)=>{var n,o,s;o=!1,(n=document.createElement("script")).type="text/javascript",n.src=e,n.onload=n.onreadystatechange=function(){o||this.readyState&&"complete"!=this.readyState||(o=!0,t())},(s=document.getElementsByTagName("script")[0]).parentNode.insertBefore(n,s)},r={cookieName:"consentcontrol",parentEl:null,template:{strings:{mainTitle:"Cookies & Dienste",mainDescription:'Diese Webseite nutzt Cookies und externe Dienste.<br /><a\n         href="/datenschutz/">Datenschutzbestimmungen</a> <a href="/impressum/">Impressum</a>',settingsButtonLabel:"Weitere Informationen",resetButtonLabel:"Alle Cookies löschen",resetMessage:"Alle Cookies wurden erfolgreich gelöscht.",closeButtonLabel:"Schließen",okButtonLabel:"OK",allButtonLabel:"Alle erlauben"},main:'<div id="consent-control-banner" class="is-collapsed" aria-modal="true" aria-hidden="true" aria-label="{mainTitle}">\n         </div>',headerEl:"header",header:'<h3>{mainTitle}</h3>\n         <p>{mainDescription}</p>\n         <button class="collapsed-only consent-control--open">{settingsButtonLabel}</button>',switches:'<div class="switches"></div>',switch:'<div class="form-check form-switch">\n          <input id="consent-{key}" value="{key}" class="form-check-input" type="checkbox" role="switch">\n          <label for="consent-{key}" class="form-check-label">{label}</label>\n        </div>',switchChild:"<li>\n            <h4>{label}</h4>\n          </li>",footer:'\n         <div class="uncollapsed-only">\n             <button class="consent-control--reset">{resetButtonLabel}</button>\n         </div>\n         <div class="control">\n             <button class="secondary uncollapsed-only consent-control--close">{closeButtonLabel}</button>\n             <button id="consent-control--submit">{okButtonLabel}</button>\n             <button id="consent-control--submit-all">{allButtonLabel}</button>\n         </div>'},switches:{}},i={options:{}},a=i;a.init=(e={})=>{a.options=t(!0,r,e),a.status=[],document.querySelectorAll(".consent-control--open").forEach((function(e){e.addEventListener("click",(e=>{e.preventDefault(),a.show()}))})),o()?p():a.show()},a.show=()=>{const e=o();a.El=document.querySelector("#consent-control-banner"),a.status.includes("initialized")||(a.El=d()),a.status.includes("events")||u(),e.length&&e.forEach((function(e){a.El.querySelectorAll("input[value="+e+"]").forEach((e=>{e.checked=!0}))})),a.El.classList.remove("hide")};const d=()=>{const e=a.options.parentEl||document.body;let t=e.querySelector("#consent-control-banner");t||(e.insertAdjacentHTML("beforeend",l(a,"main")),t=e.querySelector("#consent-control-banner")),a.options.animated&&t.classList.add("is-animated"),a.options.hideOnScroll&&t.classList.add("hide-on-scroll");let n=t.querySelector(".consent-control--open");if(!n){const e=document.createElement(a.options.template.headerEl);e.innerHTML=l(a,"header"),t.appendChild(e),n=e.querySelector(".consent-control--open")}let o=t.querySelector(".switches");if(!o){t.insertAdjacentHTML("beforeend",l(a,"switches")),o=t.querySelector(".switches");for(const[e,t]of Object.entries(a.options.switches)){o.insertAdjacentHTML("beforeend",l(a,"switch",e,t));const n=o.lastElementChild;if(t.description){const e=document.createElement("p");e.classList.add("description"),e.innerHTML=t.description,n.appendChild(e)}const s=n.querySelector("input");if(t.disabled&&s.setAttribute("disabled","disabled"),t.checked&&s.setAttribute("checked","checked"),t.childs){const e=document.createElement("ul");e.classList.add("childs"),n.appendChild(e);for(const[n,o]of Object.entries(t.childs)){e.insertAdjacentHTML("beforeend",l(a,"switchChild",!1,!1,o));const t=e.lastElementChild;if(o.description){const e=document.createElement("p");e.classList.add("description"),e.innerHTML=o.description,t.appendChild(e)}}}}}let s=t.querySelector("#consent-control--submit");return s||(t.insertAdjacentHTML("beforeend",l(a,"footer")),s=t.querySelector("#consent-control--submit")),a.status.push("initialized"),t},u=()=>{a.El.querySelector("#consent-control--submit").addEventListener("click",(e=>{e.preventDefault();const t=[];a.El.querySelectorAll("input").forEach((e=>{e.checked&&t.push(e.value)})),n(t),a.El.classList.add("hide","is-collapsed"),p()})),a.El.querySelector("#consent-control--submit-all").addEventListener("click",(e=>{e.preventDefault();const t=[];a.El.querySelectorAll("input").forEach((e=>{t.push(e.value)})),n(t),a.El.classList.add("hide","is-collapsed"),p()})),a.El.querySelectorAll(".consent-control--close").forEach((function(e){e.addEventListener("click",(e=>{e.preventDefault(),a.El.classList.add("is-collapsed")}))})),a.El.querySelectorAll(".consent-control--open").forEach((function(e){e.addEventListener("click",(e=>{e.preventDefault(),a.El.classList.remove("is-collapsed")}))})),a.El.querySelectorAll(".consent-control--reset").forEach((function(e){e.addEventListener("click",(e=>{e.preventDefault(),deleteAllCookies()}))})),a.status.push("events")};function p(){const e=o();e&&(e.forEach((e=>{"function"==typeof a.options.switches[e].callback&&a.options.switches[e].callback(),ConsentMessage&&ConsentMessage.remove(e)})),a.status.push("run"))}const h={template:{strings:{message:'Diese Inhalte werden extern geladen von <i class="consent-message--source">{srcName}</i>.<br />Durch das Aktivieren dieses Inhalts werden Daten wie Ihre IP-Adresse an den externen Server übertragen. Weitere Informationen entnehmen Sie bitte unserer <a href="/datenschutz/" title="Datenschutzerklärung lesen">Datenschutzerklärung</a>.',buttonLabel:"Inhalte laden"},main:'<div class="consent-message"><button class="button confirm">{buttonLabel}</button><p>{message}</p></div>'}},m={callbacks:{}},b=m;b.new=(e,n,s={},c,r=(()=>{n.setAttribute("src",n.getAttribute("data-src")),f(n)}))=>{if(b.options=t(!0,h,s),e&&o(e))return r(),void f(n);if(n.callback=function(){r(),f(n),delete n.callback},!c){const e=n.getAttribute("data-src");c=n.getAttribute("data-src-name")??(e=>{const t=document.createElement("a");return t.href=e,t})(e).hostname}let i=n;b.options.template&&("IFRAME"===n.tagName&&(i=document.createElement("div"),i.classList.add("consent-message--wrapper"),n.parentNode.insertBefore(i,n),i.appendChild(n)),i.insertAdjacentHTML("afterbegin",l(b,"main").replace(/{\w+}/g,c))),i.querySelector("button.confirm").addEventListener("click",(()=>n.callback())),b.callbacks[e]||(b.callbacks[e]=[]),b.callbacks[e].push(n)},b.remove=e=>{(b.callbacks[e]||[]).forEach((e=>{e.callback()}))};const f=e=>{"IFRAME"===e.tagName&&(e=e.parentNode);const t=e.querySelector(".consent-message");t&&t.remove()};window.deleteAllCookies=s,window.loadScript=c,window.getConsentControlCookie=o,window.ConsentControl=i,window.ConsentMessage=m,e.ConsentControl=i,e.ConsentMessage=m,e.deleteAllCookies=s,e.getConsentControlCookie=o,e.loadScript=c,Object.defineProperty(e,"__esModule",{value:!0})}({});
